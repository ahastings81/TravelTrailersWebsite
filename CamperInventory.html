<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Browse Campers - Travel Trailers USA</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .filters {
      float: left;
      width: 20%;
      padding: 1em;
      background: #f5f5f5;
    }

    .results {
      margin-left: 22%;
      padding: 1em;
    }

    .camper {
      display: flex;
      border: 1px solid #ccc;
      padding: 10px;
      margin: 10px 0;
      background: white;
    }

    .camper-info {
      width: 40%; /* 40% for camper information */
      padding-right: 20px;
    }

    h3 {
      margin-top: 1.5em;
    }

    /* Canvas for Photo Reel */
    .photo-reel-container {
      width: 60%; /* 60% for the photo reel */
      position: relative;
      padding-top: 10px;
      padding-right: 10px;
      padding-bottom: 10px;
    }

    .photo-reel {
      display: flex;
      transition: transform 0.5s ease;
    }

    .photo-reel img {
      width: 100%;
      height: auto;
    }

    .photo-reel-button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      font-size: 1.5em;
      padding: 10px;
      cursor: pointer;
    }

    .prev-btn {
      left: 10px;
    }

    .next-btn {
      right: 10px;
    }
  </style>
</head>
<body>

  <h1>Browse Our New & Used Campers</h1>

  <div class="filters">
	<h3>Condition</h3>
	<label><input type="checkbox" class="filter-condition" value="New"> New</label><label> <input type="checkbox" class="filter-condition" value="Used"> Used</label><br>
  <div class="filter-group">
	<label for="yearFilter">Year</label>
	<select id="yearFilter">
	   <option value="">All</option>
	   <option value="2025">2025</option>
	   <option value="2024">2024</option>
	   <option value="2023">2023</option>
	   <option value="2022">2022</option>
		<!-- Add more years as needed -->
	</select>
  </div>

    <h3>Type of RV</h3>
	<label><input type="checkbox" class="filter-type" value="Motorhome"> Motorhome</label><br>
	<label><input type="checkbox" class="filter-type" value="Fifth Wheel"> Fifth Wheel</label><br>
    <label><input type="checkbox" class="filter-type" value="Travel Trailer"> Travel Trailer</label><br>
	<label><input type="checkbox" class="filter-type" value="Pop-Up"> Pop-Up</label><br>
    <label><input type="checkbox" class="filter-type" value="Toy Haulers"> Toy Haulers</label><br>

    <h3>Features</h3>
    <label><input type="checkbox" class="filter-feature" value="Outside Kitchen"> Outside Kitchen</label><br>
    <label><input type="checkbox" class="filter-feature" value="Outside Entertainment"> Outside Entertainment</label><br>
    <label><input type="checkbox" class="filter-feature" value="Front Living room"> Front Living room</label><br>
    <label><input type="checkbox" class="filter-feature" value="Fireplace"> Fireplace</label><br>
    <label><input type="checkbox" class="filter-feature" value="Awning"> Awning</label><br>
    <label><input type="checkbox" class="filter-feature" value="Solar Panels"> Solar Panels</label><br>
    <label><input type="checkbox" class="filter-feature" value="King Bed"> King Bed</label><br>
    <label><input type="checkbox" class="filter-feature" value="Kitchen Island"> Kitchen Island</label><br>
    <label><input type="checkbox" class="filter-feature" value="Booth Dinette"> Booth Dinette</label><br>
    <label><input type="checkbox" class="filter-feature" value="Pass Through Storage"> Pass Through Storage</label><br>
    <label><input type="checkbox" class="filter-feature" value="Washer/Dryer"> Washer/Dryer</label><br>

    <h3>Sleeps</h3>
    <label><input type="radio" name="sleeps" class="filter-sleeps" value="2"> Up to 2</label><br>
    <label><input type="radio" name="sleeps" class="filter-sleeps" value="4"> Up to 4</label><br>
    <label><input type="radio" name="sleeps" class="filter-sleeps" value="6"> Up to 6</label><br>
    <label><input type="radio" name="sleeps" class="filter-sleeps" value="7+"> 7+</label><br>

    <h3>Length</h3>
    <label><input type="radio" name="length" class="filter-length" value="21"> Up to 21 ft</label><br>
    <label><input type="radio" name="length" class="filter-length" value="34"> 21–34 ft</label><br>
    <label><input type="radio" name="length" class="filter-length" value="35+"> 34+ ft</label><br>

    <h3>Weight</h3>
    <label><input type="radio" name="weight" class="filter-weight" value="3000"> Up to 3,000 lbs</label><br>
    <label><input type="radio" name="weight" class="filter-weight" value="5000"> 3,000–5,000 lbs</label><br>
    <label><input type="radio" name="weight" class="filter-weight" value="7000"> 5,000–7,000 lbs</label><br>
    <label><input type="radio" name="weight" class="filter-weight" value="7001+"> 7,000+ lbs</label><br>

    <h3>Price</h3>
    <label><input type="radio" name="price" class="filter-price" value="20000"> Under $20,000</label><br>
    <label><input type="radio" name="price" class="filter-price" value="40000"> $20,000–$40,000</label><br>
    <label><input type="radio" name="price" class="filter-price" value="60000"> $40,000–$60,000</label><br>
    <label><input type="radio" name="price" class="filter-price" value="60001+"> Over $60,000</label><br>

    <button onclick="resetFilters()">Reset Filters</button>
  </div>
	<!-- Calendar app -->             
  <div class="results" id="results"></div> 
  
  <!-- Global Modal used by all Book buttons -->
  <div id="calendarModal" style="display:none; position:fixed; top:10%; left:10%; width:80%; height:80%; background:white; z-index:1000; border-radius:8px;">
	<iframe src="https://calendly.com/hastings311/30min" width="100%" height="100%" frameborder="0"></iframe>
	<button id="closeModalBtn" style="position:absolute; top:10px; right:10px;">✖</button>
  </div>

  <script>
    const campers = [
      { name: "Jayflight 183RB", condition: "New", year: 2022, type: "Travel Trailer", sleeps: 4, length: 21, weight: 3270, price: 15500, features: ["Awning", "King Bed"], images: ["camper1.jpg", "camper2.jpg", "camper3.jpg"] },
      { name: "JayFlight 265RLS (Fiberglass) ", condition: "New", year: 2024, type: "Travel Trailer", sleeps: 6, length: 31, weight: 6205, price: 31499, features: ["Awning"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "JayFlight 280BHK", condition: "New", year: 2024, type: "Travel Trailer", sleeps: 6, length: 34.5, weight: 6660, price: 32999, features: ["Awning"], images: ["camper1.jpg", "camper2.jpg", "camper3.jpg"] },
      { name: "JayCo Eagle 274FKDS", condition: "New", year: 2024, type: "Travel Trailer", sleeps: 6, length: 35, weight: 8585, price: 49500, features: ["Fireplace", "Kitchen Island", "Awning"], images: ["camper1.jpg", "camper2.jpg", "camper3.jpg", "camper4.jpg"] },
      { name: "JayFlight 263RBS", condition: "New", year: 2024, type: "Travel Trailer", sleeps: 7, length: 30, weight: 6055, price: 31199, features: ["Outside Entertainment", "Awning", "Bathroom", "King Bed"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "JayFlight 324BDS", condition: "New", year: 2024, type: "Travel Trailer", sleeps: 4, length: 36.5, weight: 7635, price: 37995, features: ["Fireplace", "Washer/Dryer", "King Bed", "Bathroom"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "JayFlight 340RLK", condition: "New", year: 2024, type: "Travel Trailer", sleeps: 6, length: 38, weight: 7500, price: 44500, features: ["Pass Through Storage", "Outside Kitchen", "Awning", "Bathroom"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "Gulfstream Amerilite 22RSD", condition: "New", year: 2022, type: "Travel Trailer", sleeps: 2, length: 25.5, weight: 4064, price: 19750, features: ["Booth Dinette", "Awning"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "Gulfstream Amerilite 248BH", condition: "New", year: 2022, type: "Travel Trailer", sleeps: 2, length: 26.5, weight: 3899, price: 16750, features: ["Booth Dinette", "Awning"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "Superlite 197BH", condition: "New", year: 2022, type: "Travel Trailer", sleeps: 2, length: 22, weight: 3663, price: 14500, features: ["Booth Dinette", "Awning"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "JayFlight 262RLS", condition: "New", year: 2025, type: "Travel Trailer", sleeps: 6, length: 31, weight: 6660, price: 28995, features: ["Awning"], images: ["camper1.jpg", "camper2.jpg", "camper3.jpg"] },
      { name: "Gulfstream Amerilite 268BH", condition: "New", year: 2025, type: "Travel Trailer", sleeps: 2, length: 29.5, weight: 7660, price: 25650, features: ["Booth Dinette", "Awning"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "Gulfstream Amerilite 26BHG", condition: "New", year: 2025, type: "Travel Trailer", sleeps: 2, length: 30, weight: 5220, price: 19865, features: ["Booth Dinette", "Awning"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "Gulfstream Amerilite 269BH", condition: "New", year: 2025, type: "Travel Trailer", sleeps: 2, length: 30, weight: 7670, price: 21975, features: ["Booth Dinette", "Awning"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "Gulfstream Conquest C302SBW", condition: "New", year: 2025, type: "Travel Trailer", sleeps: 2, length: 38.5, weight: 10360, price: 37599, features: ["Booth Dinette", "Awning"], images: ["Serial176061pics/IMG_5482.jpg", "Serial176061pics/IMG_5483.jpg", "Serial176061pics/IMG_5484.jpg", "Serial176061pics/IMG_5485.jpg", "Serial176061pics/IMG_5486.jpg", "Serial176061pics/IMG_5487.jpg", "Serial176061pics/IMG_5488.jpg", "Serial176061pics/IMG_5489.jpg", "Serial176061pics/IMG_5490.jpg", "Serial176061pics/IMG_5491.jpg", "Serial176061pics/IMG_5492.jpg",] },
      { name: "Gulfstream Conquest C323TBR", condition: "New", year: 2025, type: "Travel Trailer", sleeps: 2, length: 29.5, weight: 9880, price: 37550, features: ["Booth Dinette", "Awning"], images: ["gulfstreampics/IMG_5470.jpg", "gulfstreampics/IMG_5471.jpg", "gulfstreampics/IMG_5472.jpg", "gulfstreampics/IMG_5473.jpg", "gulfstreampics/IMG_5474.jpg", "gulfstreampics/IMG_5475.jpg", "gulfstreampics/IMG_5476.jpg", "gulfstreampics/IMG_5477.jpg", "gulfstreampics/IMG_5478.jpg", "gulfstreampics/IMG_5479.jpg", "gulfstreampics/IMG_5480.jpg", "gulfstreampics/IMG_5481.jpg",] },
      { name: "Flagstaff 625D", condition: "Used", year: 2016, type: "Pop-Up", sleeps: 2, price: 14900, features: ["Booth Dinette", "Awning"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "Amerilite 279BH", condition: "Used", year: 2022, type: "Travel Trailer", sleeps: 2, price: 22500, features: ["Booth Dinette", "Awning"], images: ["camper1.jpg", "camper2.jpg"] },
      { name: "Fleetwood Flair P30", condition: "Used", year: 1995, type: "Motorhome", images: ["camper1.jpg", "camper2.jpg"] },
      { name: "Pace Arrow 1992", condition: "Used", year: 1992, type: "Motorhome", price: 7000, images: ["camper1.jpg", "camper2.jpg"] },
      { name: "Grey Wolf 2018", condition: "Used", year: 2018, type: "Toy Hauler", price: 10000, images: ["camper1.jpg", "camper2.jpg"] },
    ];

    const resultDiv = document.getElementById('results');
	
	const conditionCheckboxes = document.querySelectorAll('.filter-condition');
    const typeCheckboxes = document.querySelectorAll('.filter-type');
    const featureCheckboxes = document.querySelectorAll('.filter-feature');
    const sleepRadios = document.querySelectorAll('.filter-sleeps');
    const lengthRadios = document.querySelectorAll('.filter-length');
    const weightRadios = document.querySelectorAll('.filter-weight');
    const priceRadios = document.querySelectorAll('.filter-price');
	const yearFilter = document.getElementById("yearFilter");

    [...typeCheckboxes, ...featureCheckboxes, ...sleepRadios, ...lengthRadios, ...weightRadios, ...priceRadios, ...conditionCheckboxes]
      .forEach(input => input.addEventListener('change', filterCampers));
	yearFilter.addEventListener("change", filterCampers);
	campers.forEach(camper => {
		camper.type = camper.type || "Unknown";
		camper.sleeps = camper.sleeps || 0;
		camper.length = camper.length || 0;
		camper.weight = camper.weight || 0;
		camper.price = camper.price || 0;
		camper.features = camper.features || [];
		camper.condition = camper.condition || "Used";
		});


function filterCampers() {
  const selectedConditions = Array.from(conditionCheckboxes).filter(cb => cb.checked).map(cb => cb.value);
  const selectedTypes = Array.from(typeCheckboxes).filter(cb => cb.checked).map(cb => cb.value);
  const selectedFeatures = Array.from(featureCheckboxes).filter(cb => cb.checked).map(cb => cb.value);
  const selectedSleeps = Array.from(sleepRadios).find(rb => rb.checked)?.value;
  const selectedLength = Array.from(lengthRadios).find(rb => rb.checked)?.value;
  const selectedWeight = Array.from(weightRadios).find(rb => rb.checked)?.value;
  const selectedPrice = Array.from(priceRadios).find(rb => rb.checked)?.value;
  const selectedYear = yearFilter.value;

  const filtered = campers.filter(camper => {
    const matchCondition = selectedConditions.length === 0 || selectedConditions.includes(camper.condition);

    const matchType = selectedTypes.length === 0 || selectedTypes.includes(camper.type);
    const matchYear = !selectedYear || camper.year == selectedYear;
    const matchFeatures = selectedFeatures.length === 0 || selectedFeatures.every(feature => camper.features.includes(feature));
    const matchSleeps = !selectedSleeps || (selectedSleeps === '2' ? camper.sleeps <= 2 : 
      selectedSleeps === '4' ? camper.sleeps <= 4 : 
      selectedSleeps === '6' ? camper.sleeps <= 6 : 
      selectedSleeps === '7+' ? camper.sleeps >= 7 : true
    );
    const matchLength = !selectedLength || (
      selectedLength === '21' ? camper.length <= 21 :
      selectedLength === '34' ? camper.length > 21 && camper.length <= 34 :
      selectedLength === '35+' ? camper.length > 34 : true
    );
    const matchWeight = !selectedWeight || (
      selectedWeight === '3000' ? camper.weight <= 3000 :
      selectedWeight === '5000' ? camper.weight > 3000 && camper.weight <= 5000 :
      selectedWeight === '7000' ? camper.weight > 5000 && camper.weight <= 7000 :
      selectedWeight === '7001+' ? camper.weight > 7000 : true
    );
    const matchPrice = !selectedPrice || (
      selectedPrice === '20000' ? camper.price <= 20000 :
      selectedPrice === '40000' ? camper.price > 20000 && camper.price <= 40000 :
      selectedPrice === '60000' ? camper.price > 40000 && camper.price <= 60000 :
      selectedPrice === '60001+' ? camper.price > 60000 : true
    );
	//return true if camper(s) matches all checked filters
    return matchCondition && matchYear && matchType && matchFeatures && matchSleeps && matchLength && matchWeight && matchPrice;
  });

  displayResults(filtered);
}


    function displayResults(campers) {
	  if (campers.length === 0) {
		resultDiv.innerHTML = "<p style='padding: 1em; font-size: 1.2em;'>No campers match your criteria. Try adjusting your filters.</p>";
		return;
	}
      resultDiv.innerHTML = campers.map(camper => `       
        <div class="camper">
          <div class="camper-info">
            <h3>${camper.name}</h3>
			<p><strong>Condition:</strong> ${camper.condition}</p>
			<p><strong>Year:</strong> ${camper.year}</p>
			<p><strong>Type:</strong> ${camper.type}</p>
            <p><strong>Sleeps:</strong> ${camper.sleeps}</p>
            <p><strong>Length:</strong> ${camper.length} ft</p>
            <p><strong>Weight:</strong> ${camper.weight} lbs</p>
            <p><strong>Price:</strong> $${camper.price}</p>
            <p><strong>Features:</strong> ${camper.features.join(', ')}</p>
			<!-- Button -->
			<button class="bookBtn">Book a Viewing</button>
          </div>
          <div class="photo-reel-container">
            <div class="photo-reel">
              ${camper.images.map(image => `<img src="${image}" alt="${camper.name} image">`).join('')}
            </div>
            <div class="photo-reel-button prev-btn" onclick="moveReel(this, -1)">&#10094;</div>
			<div class="photo-reel-button next-btn" onclick="moveReel(this, 1)">&#10095;</div>

          </div>
        </div>
      `).join('');
    }
		
    function moveReel(button, direction) {
		const reel = button.parentElement.querySelector('.photo-reel');
		const width = reel.querySelector('img').width;
		const totalImages = reel.children.length;
		let currentPosition = parseInt(reel.getAttribute('data-position') || '0');

		currentPosition -= direction * width;
		currentPosition = Math.max(Math.min(currentPosition, 0), -(width * (totalImages - 1)));

		reel.style.transform = `translateX(${currentPosition}px)`;
		reel.setAttribute('data-position', currentPosition);
	}
	

    // Initialize page
    displayResults(campers);
	document.addEventListener("DOMContentLoaded", () => {
		const modal = document.getElementById("calendarModal");
		const closeModalBtn = document.getElementById("closeModalBtn");

	// Open modal when any .bookBtn is clicked
		document.addEventListener("click", (e) => {
			if (e.target.classList.contains("bookBtn")) {
				modal.style.display = "block";
			}
		});

	// Close modal when ✖ is clicked
		closeModalBtn.addEventListener("click", () => {
			modal.style.display = "none";
		});

	// Close modal when clicking outside the modal content
		window.addEventListener("click", (event) => {
			if (event.target === modal) {
				modal.style.display = "none";
			}
		});
	});


		
  </script>
</body>
</html>
